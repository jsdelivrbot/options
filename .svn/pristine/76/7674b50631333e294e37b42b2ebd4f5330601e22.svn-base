<ion-content>
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="下拉刷新" refreshingSpinner="circles" refreshingText="正在刷新..."></ion-refresher-content>
    </ion-refresher>
    <div class="wrap div_bgcolor" *ngFor='let x of data'>
        <div class="item_tit">
            <p class="p1 th_light"><strong>{{x.stockName}} {{x.stockCode}}</strong></p>
            <p class="p2 th_light"><em>单号:{{x.orderId}}</em></p>
        </div>
        <table>
            <tr>
                <td [ngClass]="{'color1': x.holdStatus=='持仓中','color2': x.holdStatus=='行权中', 'color3':  x.holdStatus=='待行权'}"><span></span>&nbsp;&nbsp;{{x.holdStatus}}</td>
                <td>
                    <span [ngClass]="{'font_red': x.income>=0, 'font_green':  x.income<0}">盈亏{{x.income}}</span>
                </td>
            </tr>
            <tr>
                <td>名义本金</td>
                <td>{{x.principal}}</td>
            </tr>
            <tr>
                <td>权利金</td>
                <td>{{x.expense}}</td>
            </tr>
            <tr>
                <td>买入价</td>
                <td>{{x.price}}</td>
            </tr>
            <tr>
                <td>行权周期</td>
                <td>{{x.duration}}</td>
            </tr>
            <tr>
                <td>到期日期</td>
                <td>{{x.endDate}}</td>
            </tr>
            <tr>
                <td>申购时间：{{x.startDate}}</td>
                <td><button ion-button *ngIf="x.holdStatus=='持仓中'" (click)='exercise(x)'>行权</button></td>
            </tr>
        </table>
    </div>
    <br>
    <br>
    <br>
    <div *ngIf="noData">
        <img style="width:20%;margin-left:40%;margin-top:35%;" src="assets/images/my/nothing_img@{{dpr}}x.png">
        <p style="text-align:center;font-family: PingFangSC-Regular;margin-top:1.25rem;font-size: 1.25rem;color: #CCCCCC;letter-spacing: 2px;">暂无数据</p>
    </div>
    <div class="bot_line" *ngIf="showline">
        <p>-----------------&nbsp;&nbsp;别扯了，我也是有底线的&nbsp;&nbsp;-----------------</p>
    </div>
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content loadingText="正在加载" loadingSpinner="bubbles" threshold="2rem"></ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>